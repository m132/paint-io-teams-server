import { Player, Team } from './index.js';

const initialState = [
    [66, 35], [36, 36], [37, 36], [38, 36], [39, 36], [34, 37],
    [35, 37], [33, 38], [32, 39], [31, 40], [31, 41], [47, 41],
    [48, 41], [49, 41], [55, 41], [65, 41], [31, 42], [46, 42],
    [50, 42], [55, 42], [57, 42], [60, 42], [65, 42], [69, 42],
    [31, 43], [45, 43], [51, 43], [55, 43], [56, 43], [58, 43],
    [59, 43], [61, 43], [64, 43], [69, 43], [71, 43], [72, 43],
    [73, 43], [74, 43], [31, 44], [45, 44], [52, 44], [55, 44],
    [58, 44], [61, 44], [64, 44], [69, 44], [70, 44], [74, 44],
    [32, 45], [45, 45], [52, 45], [55, 45], [58, 45], [61, 45],
    [64, 45], [68, 45], [74, 45], [32, 46], [45, 46], [52, 46],
    [55, 46], [58, 46], [61, 46], [64, 46], [68, 46], [74, 46],
    [78, 46], [79, 46], [33, 47], [42, 47], [46, 47], [51, 47],
    [55, 47], [58, 47], [61, 47], [64, 47], [68, 47], [74, 47],
    [77, 47], [80, 47], [81, 47], [82, 47], [34, 48], [42, 48],
    [47, 48], [48, 48], [49, 48], [50, 48], [61, 48], [64, 48],
    [68, 48], [73, 48], [77, 48], [83, 48], [35, 49], [40, 49],
    [41, 49], [68, 49], [73, 49], [76, 49], [83, 49], [36, 50],
    [37, 50], [38, 50], [39, 50], [73, 50], [76, 50], [83, 50],
    [76, 51], [82, 51], [77, 52], [78, 52], [81, 52], [79, 53],
    [81, 53], [80, 54], [80, 55], [42, 56], [43, 56], [44, 56],
    [45, 56], [79, 56], [41, 57], [78, 57], [40, 58], [78, 58],
    [40, 59], [41, 59], [53, 59], [54, 59], [77, 59], [42, 60],
    [43, 60], [44, 60], [45, 60], [46, 60], [51, 60], [52, 60],
    [55, 60], [60, 60], [61, 60], [62, 60], [72, 60], [73, 60],
    [74, 60], [75, 60], [76, 60], [47, 61], [50, 61], [56, 61],
    [59, 61], [63, 61], [67, 61], [48, 62], [50, 62], [56, 62],
    [58, 62], [64, 62], [67, 62], [69, 62], [70, 62], [48, 63],
    [50, 63], [56, 63], [58, 63], [64, 63], [67, 63], [68, 63],
    [71, 63], [47, 64], [51, 64], [55, 64], [58, 64], [63, 64],
    [66, 64], [72, 64], [44, 65], [45, 65], [46, 65], [52, 65],
    [53, 65], [54, 65], [59, 65], [62, 65], [66, 65], [72, 65],
    [39, 66], [40, 66], [41, 66], [42, 66], [43, 66], [60, 66],
    [61, 66], [65, 66], [72, 66], [65, 67], [71, 67], [70, 68],
    [69, 69], [50, 70], [51, 70], [52, 70], [55, 70], [56, 70],
    [49, 71], [53, 71], [54, 71], [57, 71], [49, 72], [53, 72],
    [57, 72], [49, 73], [56, 73], [49, 74], [55, 74], [50, 75],
    [54, 75], [51, 76], [53, 76], [52, 77]
];

export class TileMap {
    state: [tile: Team, tail: Player[]][][];

    constructor(
        public width: number,
        public height: number,
    ) {
        this.width = width;
        this.height = height;

        this.state = Array.from({ length: height }, () => (
            Array.from({ length: width }, () => [Team.NEUTRAL, []])
        ));

        for (let tile of initialState)
            this.state[tile[1]][tile[0]][0] = 1 + Math.floor((tile[1] - 36) / 10.5);
    }
}
